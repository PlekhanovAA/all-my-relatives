<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>All My Relatives</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet" />
</head>

<body class="bg-light" style="background-color: #FAF6F0; color: #3B2F2F;">

<div sec:authorize="isAuthenticated()" th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container mt-4 mb-5">
    <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-4">
            <h3 class="mb-4" style="color: #4A5C6A;"
                th:text="${relative.id == null} ? #{relative.addTitle} : #{relative.editTitle}">
            </h3>

            <form th:action="@{/relative/save}" th:object="${relative}" method="post">
                <input type="hidden" th:field="*{id}" />

                <!-- üßç –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                <h5 class="border-bottom pb-2 mb-3" style="color: #4A5C6A;">–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h5>
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.firstname}">–ò–º—è</label>
                        <input type="text" class="form-control" th:field="*{firstName}" />
                    </div>
                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.lastname}">–§–∞–º–∏–ª–∏—è</label>
                        <input type="text" class="form-control" th:field="*{lastName}" />
                    </div>
                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.middlename}">–û—Ç—á–µ—Å—Ç–≤–æ</label>
                        <input type="text" class="form-control" th:field="*{middleName}" />
                    </div>
                </div>

                <div class="row g-3 mt-2">
                    <div class="col-md-3">
                        <label class="form-label" th:text="#{relative.gender}">–ü–æ–ª</label>
                        <select class="form-select" th:field="*{gender}">
                            <option value="" th:text="#{relative.selectGender}">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª</option>
                            <option value="MALE" th:text="#{relative.male}">–ú—É–∂—Å–∫–æ–π</option>
                            <option value="FEMALE" th:text="#{relative.female}">–ñ–µ–Ω—Å–∫–∏–π</option>
                            <option value="OTHER" th:text="#{relative.other}">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>

                    <div class="col-md-3">
                        <label class="form-label small" th:text="#{relative.birthdate}">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                        <input type="date" class="form-control form-control-sm" th:field="*{birthDate}" />
                    </div>

                    <div class="col-md-3">
                        <label class="form-label small" th:text="#{relative.deathdate}">–î–∞—Ç–∞ —Å–º–µ—Ä—Ç–∏</label>
                        <input type="date" class="form-control form-control-sm" th:field="*{deathDate}" />
                    </div>

                    <div class="col-md-3">
                        <label class="form-label" th:text="#{relative.occupation}">–ü—Ä–æ—Ñ–µ—Å—Å–∏—è</label>
                        <input type="text" class="form-control" th:field="*{occupation}" />
                    </div>
                </div>

                <!-- üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ -->
                <h5 class="border-bottom pb-2 mt-4 mb-3" style="color: #4A5C6A;">–ú–µ—Å—Ç–∞</h5>
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.birthplace}">–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                        <select class="form-select" th:field="*{birthPlace}">
                            <option value="" th:text="#{relative.selectLocation}">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                            <option th:each="loc : ${locations}" th:value="${loc.id}" th:text="${loc.name}"></option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.deathplace}">–ú–µ—Å—Ç–æ —Å–º–µ—Ä—Ç–∏</label>
                        <select class="form-select" th:field="*{deathPlace}">
                            <option value="" th:text="#{relative.selectLocation}">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                            <option th:each="loc : ${locations}" th:value="${loc.id}" th:text="${loc.name}"></option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.currentlocation}">–¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <select class="form-select" th:field="*{currentLocation}">
                            <option value="" th:text="#{relative.selectLocation}">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                            <option th:each="loc : ${locations}" th:value="${loc.id}" th:text="${loc.name}"></option>
                        </select>
                    </div>
                </div>

                <!-- üë®‚Äçüë©‚Äçüëß –°–µ–º–µ–π–Ω—ã–µ —Å–≤—è–∑–∏ -->
                <h5 class="border-bottom pb-2 mt-4 mb-3" style="color: #4A5C6A;">–†–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏</h5>
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.father}">–û—Ç–µ—Ü</label>
                        <select class="form-select" th:field="*{father}">
                            <option value="" th:text="#{relative.selectFather}">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ü–∞</option>
                            <option th:each="p : ${relatives}" th:value="${p.id}" th:text="${p.firstName + ' ' + p.lastName}"></option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.mother}">–ú–∞—Ç—å</label>
                        <select class="form-select" th:field="*{mother}">
                            <option value="" th:text="#{relative.selectMother}">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ç—å</option>
                            <option th:each="p : ${relatives}" th:value="${p.id}" th:text="${p.firstName + ' ' + p.lastName}"></option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label" th:text="#{relative.spouse}">–°—É–ø—Ä—É–≥(–∞)</label>
                        <select class="form-select" th:field="*{spouse}">
                            <option value="" th:text="#{relative.selectSpouse}">–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–ø—Ä—É–≥–∞(—É)</option>
                            <option th:each="p : ${relatives}" th:value="${p.id}" th:text="${p.firstName + ' ' + p.lastName}"></option>
                        </select>
                    </div>
                </div>

                <!-- üìú –ë–∏–æ–≥—Ä–∞—Ñ–∏—è -->
                <h5 class="border-bottom pb-2 mt-4 mb-3" style="color: #4A5C6A;">–ë–∏–æ–≥—Ä–∞—Ñ–∏—è</h5>
                <div class="mb-3">
                    <textarea class="form-control" th:field="*{biography}" rows="4"></textarea>
                </div>

                <div class="mt-4">
                    <button type="submit" class="btn px-4" style="background-color: #7C8B60; color: white;"
                            th:text="#{relative.save}">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <a href="/relatives" class="btn btn-secondary px-4" th:text="#{relative.cancel}">–û—Ç–º–µ–Ω–∞</a>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
