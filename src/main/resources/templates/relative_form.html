<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>All My Relatives</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet" />
</head>

<body style="background-color: #FAF6F0; color: #3B2F2F;">

<div sec:authorize="isAuthenticated()"
     th:replace="~{fragments/navbar :: navbar}">
</div>

<div class="container mt-4 mb-5">
    <h2 th:text="${relative.id == null} ? #{relative.addTitle} : #{relative.editTitle}"
        class="mb-4 fw-semibold"></h2>

    <form th:action="@{/relative/save}" th:object="${relative}" method="post"
          class="p-4 rounded shadow-sm" style="background-color: #ffffff;">
        <input type="hidden" th:field="*{id}" />

        <!-- üë™ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <h5 class="border-bottom pb-2 mb-3" style="color: #4A5C6A;">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label" th:text="#{relative.firstname}">–ò–º—è</label>
                <input type="text" class="form-control" th:field="*{firstName}" />
            </div>

            <div class="col-md-6">
                <label class="form-label" th:text="#{relative.lastname}">–§–∞–º–∏–ª–∏—è</label>
                <input type="text" class="form-control" th:field="*{lastName}" />
            </div>
        </div>

        <!-- üìÖ –î–∞—Ç—ã -->
        <h5 class="border-bottom pb-2 mt-4 mb-3" style="color: #4A5C6A;">–î–∞—Ç—ã</h5>
        <div class="row g-3">
            <div class="col-md-3">
                <label class="form-label" th:text="#{relative.birthdate}">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                <input type="date" class="form-control form-control-sm" th:field="*{birthDate}" />
            </div>
            <div class="col-md-3">
                <label class="form-label" th:text="#{relative.deathdate}">–î–∞—Ç–∞ —Å–º–µ—Ä—Ç–∏</label>
                <input type="date" class="form-control form-control-sm" th:field="*{deathDate}" />
            </div>
        </div>

        <!-- üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ -->
        <h5 class="border-bottom pb-2 mt-4 mb-3" style="color: #4A5C6A;">–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h5>
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label" th:text="#{relative.currentlocation}">–¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                <select class="form-select" th:field="*{currentLocation}">
                    <option th:text="#{relative.selectLocation}" value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</option>
                    <option th:each="loc : ${locations}"
                            th:value="${loc.id}"
                            th:text="${loc.name}"></option>
                </select>
            </div>
        </div>

        <!-- üîò –ö–Ω–æ–ø–∫–∏ -->
        <div class="mt-4">
            <button type="submit" class="btn"
                    style="background-color: #7C8B60; color: white;"
                    th:text="#{relative.save}">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <a href="/relatives" class="btn btn-secondary ms-2"
               th:text="#{relative.cancel}">–û—Ç–º–µ–Ω–∞</a>
        </div>
    </form>
</div>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
