    <!DOCTYPE html>
    <html xmlns:th="http://www.thymeleaf.org"
          xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head>
        <meta charset="UTF-8">
        <title>Фотоальбом</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
        <link th:href="@{/css/style.css}" rel="stylesheet" />
    </head>
    <body>

    <div sec:authorize="isAuthenticated()"
         th:replace="~{fragments/navbar :: navbar}">
    </div>

    <div class="container text-center mt-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="mb-0" th:text="#{gallery.title}">Фотоальбом</h2>
            <a th:if="${#authorization.expression('hasRole(''ADMIN'')')}"
               href="/gallery/grid"
               class="btn btn-outline-secondary"
               th:title="#{gallery.settings}">
                <i class="bi bi-gear-fill"></i>
            </a>
        </div>

        <div th:if="${photos != null and photos.size() > 0}">
            <!-- Тут логика отображения фото -->
            <div class="position-relative d-flex justify-content-center align-items-center" style="height: 400px;">
                <button class="btn btn-outline-secondary position-absolute start-0" onclick="showPrevious()">
                    <i class="bi bi-chevron-left"></i>
                </button>
                <img id="mainPhoto" th:src="@{'/uploads/' + ${photos[0]}}" alt="Фото" class="img-fluid rounded shadow" style="max-height: 100%; max-width: 100%;" />
                <button class="btn btn-outline-secondary position-absolute end-0" onclick="showNext()">
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
        </div>

        <div th:if="${photos == null or photos.size() == 0}" class="alert alert-info mt-4">
            <span th:text="#{gallery.no_photos}">Нет фотографий. Загрузите первые снимки!</span>
        </div>


        <!-- Панель фильтров -->
        <div class="mt-4">
            <h5 th:text="#{gallery.filters}">Фильтры (заглушка)</h5>
            <div class="row justify-content-center">
                <div class="col-md-3">
                    <input type="text" class="form-control" th:placeholder="#{gallery.searchByName}" />
                </div>
                <div class="col-md-3">
                    <select class="form-select">
                        <option th:text="#{gallery.all}">Все</option>
                        <option th:text="#{gallery.linked}">Связанные с родственником</option>
                        <option th:text="#{gallery.unlinked}">Без связей</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальные окна -->
    <div th:replace="~{fragments/upload_modal :: uploadModal}"></div>
    <div th:replace="~{fragments/delete_modal :: deleteModal}"></div>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/gallery.js}"></script>

    <script th:inline="javascript">
        const photoList = [[${photos}]];
    </script>
    </body>
    </html>
